<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Angular Task</title>
    <link rel="stylesheet" href="css/normalize.min.css">
    <link rel="stylesheet" href="css/main.css">

    <!--[if lt IE 9]>
    <script src="js/vendor/html5-3.6-respond-1.4.2.min.js"></script>
    <![endif]-->
</head>
<body data-ng-app="mainApp">

    <!--[if lt IE 8]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <aside class="main-aside">
        <h1 class="main-header">Main</h1>
        <div class="overview">
            <span class="overview-span">Overview</span>
        </div>
    </aside>

    <section data-ng-controller="mainCtrl as mainCtrl" class="main-section">
        <div class="card left">
            <h1 class="main-header">Items</h1>
            <div class="container">
                <div class="input-container">
                    <input data-ng-model="item" type="text" placeholder="Type name here..." class="item-input"/>
                    <button data-ng-click="mainCtrl.addItem(item)" type="button" class="item-add">Add new</button>
                </div>
            </div>
            <div data-ng-repeat="item in mainCtrl.items" data-ng-click="mainCtrl.selectItem($event, item)" class="item-container">
                <div class="red-border"></div>
                <p class="item-text"> {{ item.itemText }} </p>
                <div class="comment-number"><span> {{ item.commentNumber }} </span></div>
                <button data-ng-click="mainCtrl.deleteItem(item)" type="button" class="item-del">Delete</button>
            </div>
        </div>
        <div class="card right" data-ng-controller="commentCtrl as commentCtrl">
            <h1 class="main-header">Comments</h1>
            <h2 data-ng-show="!commentCtrl.currentItem" class="comments-label">Greetings! Choose or add item to start.</h2>
            <div data-ng-show="commentCtrl.currentItem" class="container">
                <div data-ng-show="commentCtrl.commentsOfItem" class="comments-container">
                    <div data-ng-repeat="comment in commentCtrl.commentsOfItem track by $index" class="comment">
                        <div class="comment-image"></div>
                        <p class="comment-text">{{ comment }}</p>
                    </div>
                </div>
                <div data-ng-show="commentCtrl.currentItem" class="comment-input-container">
                    <div class="comment-image"></div>
                    <p class="comment-text">
                        <textarea data-ng-model="commentCtrl.commentText" class="comment-textarea"></textarea>
                        <button data-ng-show="commentCtrl.commentText" data-ng-click="commentCtrl.setComment(commentCtrl.commentText, $event)" class="comment-submit">Add Comment</button>
                    </p>
                </div>
            </div>
        </div>
    </section>

            <script src="js/angular.min.js"></script>
            <script src="js/mainCtrl.js"></script>
            <script src="js/commentCtrl.js"></script>
        </body>
        </html>
